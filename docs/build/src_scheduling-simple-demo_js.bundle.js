"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_ircam_sc_components_doc"] = self["webpackChunk_ircam_sc_components_doc"] || []).push([["src_scheduling-simple-demo_js"],{

/***/ "./src/scheduling-simple-demo.js":
/*!***************************************!*\
  !*** ./src/scheduling-simple-demo.js ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   enter: () => (/* binding */ enter),\n/* harmony export */   exit: () => (/* binding */ exit),\n/* harmony export */   template: () => (/* binding */ template)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"../node_modules/lit/index.js\");\n/* harmony import */ var _utils_applyStyle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/applyStyle.js */ \"./src/utils/applyStyle.js\");\n/* harmony import */ var _src_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../src/index.js */ \"../src/index.js\");\n\n\n\n// globals\nwindow.audioContext = window.audioContext || null;\nwindow.Scheduler = _src_index_js__WEBPACK_IMPORTED_MODULE_2__.Scheduler;\n\nconst defaultCode = `\\\n/**\n * This interactive example code assumes two things:\n * - you have a resumed AudioContext instance at hand\n * - the Scheduler instance **must** be named \"scheduler\"\n *\n * You can edit the code and hear/see the result by pressing \"Cmd+S\"\n */\n\n// instantiate scheduler with the audio context timeline\nconst getTime = () => audioContext.currentTime;\nconst scheduler = new Scheduler(getTime);\n\n// simple metronome\nconst BPM = 120;\nconst metro = currentTime => {\n  // create the audio graph for this tick\n  const envelop = audioContext.createGain();\n  envelop.connect(audioContext.destination);\n  envelop.gain.value = 0;\n  envelop.gain.setValueAtTime(0, currentTime);\n  envelop.gain.linearRampToValueAtTime(0.8, currentTime + 0.002);\n  envelop.gain.linearRampToValueAtTime(0, currentTime + 0.01);\n\n  const sine = audioContext.createOscillator();\n  sine.connect(envelop);\n  sine.frequency.setValueAtTime(600, currentTime);\n  sine.start(currentTime);\n  sine.stop(currentTime + 0.01);\n\n  // define a period in seconds according to BPM and compute next time\n  const period = 60 / BPM;\n  const nextTime = currentTime + period;\n  // return the next time at which the metronome should play\n  return nextTime;\n}\n\n// add the metronome to the scheduler, starting now\nconst now = getTime();\nscheduler.add(metro, now);\n`\n\nasync function executeCode(str) {\n  if (window.audioContext) {\n    await window.audioContext.close();\n  }\n\n  window.audioContext = new AudioContext();\n  await window.audioContext.resume();\n\n  if (window.module) {\n    await window.module.exit();\n  }\n\n  // handle module, we need to clear the scheduler or they catch up at some point\n  str += `\nexport function exit() {\n  scheduler.clear();\n}\n`;\n  const file = new File([str], `module-${parseInt(Math.random() * 1e9)}.js`, { type: 'text/javascript' });\n  const url = URL.createObjectURL(file);\n  // make sure the module is not garbage collected\n  window.module = await import(/* webpackIgnore: true */url);\n}\n\n\nconst enter = () => {}\nconst exit = () => {}\n\nconst template = (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`\n<h2>Scheduler - simple demo</h2>\n\n<div class=\"demo\">\n  <div class=\"interface\">\n    <sc-button\n      @input=${async () => document.querySelector('sc-editor').save()}\n    >Run the demo</sc-button>\n    <sc-text>mute</sc-text><sc-toggle\n      @change=${async e => {\n        if (e.detail.value) {\n          await window.audioContext.suspend();\n        } else {\n          await window.audioContext.resume();\n        }\n      }}\n    ></sc-toggle>\n  </div>\n  <sc-editor\n    save-button\n    style=\"width: 900px; height: 700px;\"\n    value=${defaultCode}\n    @change=${e => executeCode(e.detail.value)}\n  ></sc-editor>\n\n</div>\n`;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NoZWR1bGluZy1zaW1wbGUtZGVtby5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGlyY2FtL3NjLWNvbXBvbmVudHMtZG9jLy4vc3JjL3NjaGVkdWxpbmctc2ltcGxlLWRlbW8uanM/NGVmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBodG1sIH0gZnJvbSAnbGl0JztcbmltcG9ydCBhcHBseVN0eWxlIGZyb20gJy4vdXRpbHMvYXBwbHlTdHlsZS5qcyc7XG5pbXBvcnQgeyBTY2hlZHVsZXIgfSBmcm9tICcuLi8uLi9zcmMvaW5kZXguanMnO1xuLy8gZ2xvYmFsc1xud2luZG93LmF1ZGlvQ29udGV4dCA9IHdpbmRvdy5hdWRpb0NvbnRleHQgfHwgbnVsbDtcbndpbmRvdy5TY2hlZHVsZXIgPSBTY2hlZHVsZXI7XG5cbmNvbnN0IGRlZmF1bHRDb2RlID0gYFxcXG4vKipcbiAqIFRoaXMgaW50ZXJhY3RpdmUgZXhhbXBsZSBjb2RlIGFzc3VtZXMgdHdvIHRoaW5nczpcbiAqIC0geW91IGhhdmUgYSByZXN1bWVkIEF1ZGlvQ29udGV4dCBpbnN0YW5jZSBhdCBoYW5kXG4gKiAtIHRoZSBTY2hlZHVsZXIgaW5zdGFuY2UgKiptdXN0KiogYmUgbmFtZWQgXCJzY2hlZHVsZXJcIlxuICpcbiAqIFlvdSBjYW4gZWRpdCB0aGUgY29kZSBhbmQgaGVhci9zZWUgdGhlIHJlc3VsdCBieSBwcmVzc2luZyBcIkNtZCtTXCJcbiAqL1xuXG4vLyBpbnN0YW50aWF0ZSBzY2hlZHVsZXIgd2l0aCB0aGUgYXVkaW8gY29udGV4dCB0aW1lbGluZVxuY29uc3QgZ2V0VGltZSA9ICgpID0+IGF1ZGlvQ29udGV4dC5jdXJyZW50VGltZTtcbmNvbnN0IHNjaGVkdWxlciA9IG5ldyBTY2hlZHVsZXIoZ2V0VGltZSk7XG5cbi8vIHNpbXBsZSBtZXRyb25vbWVcbmNvbnN0IEJQTSA9IDEyMDtcbmNvbnN0IG1ldHJvID0gY3VycmVudFRpbWUgPT4ge1xuICAvLyBjcmVhdGUgdGhlIGF1ZGlvIGdyYXBoIGZvciB0aGlzIHRpY2tcbiAgY29uc3QgZW52ZWxvcCA9IGF1ZGlvQ29udGV4dC5jcmVhdGVHYWluKCk7XG4gIGVudmVsb3AuY29ubmVjdChhdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xuICBlbnZlbG9wLmdhaW4udmFsdWUgPSAwO1xuICBlbnZlbG9wLmdhaW4uc2V0VmFsdWVBdFRpbWUoMCwgY3VycmVudFRpbWUpO1xuICBlbnZlbG9wLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoMC44LCBjdXJyZW50VGltZSArIDAuMDAyKTtcbiAgZW52ZWxvcC5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDAsIGN1cnJlbnRUaW1lICsgMC4wMSk7XG5cbiAgY29uc3Qgc2luZSA9IGF1ZGlvQ29udGV4dC5jcmVhdGVPc2NpbGxhdG9yKCk7XG4gIHNpbmUuY29ubmVjdChlbnZlbG9wKTtcbiAgc2luZS5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoNjAwLCBjdXJyZW50VGltZSk7XG4gIHNpbmUuc3RhcnQoY3VycmVudFRpbWUpO1xuICBzaW5lLnN0b3AoY3VycmVudFRpbWUgKyAwLjAxKTtcblxuICAvLyBkZWZpbmUgYSBwZXJpb2QgaW4gc2Vjb25kcyBhY2NvcmRpbmcgdG8gQlBNIGFuZCBjb21wdXRlIG5leHQgdGltZVxuICBjb25zdCBwZXJpb2QgPSA2MCAvIEJQTTtcbiAgY29uc3QgbmV4dFRpbWUgPSBjdXJyZW50VGltZSArIHBlcmlvZDtcbiAgLy8gcmV0dXJuIHRoZSBuZXh0IHRpbWUgYXQgd2hpY2ggdGhlIG1ldHJvbm9tZSBzaG91bGQgcGxheVxuICByZXR1cm4gbmV4dFRpbWU7XG59XG5cbi8vIGFkZCB0aGUgbWV0cm9ub21lIHRvIHRoZSBzY2hlZHVsZXIsIHN0YXJ0aW5nIG5vd1xuY29uc3Qgbm93ID0gZ2V0VGltZSgpO1xuc2NoZWR1bGVyLmFkZChtZXRybywgbm93KTtcbmBcblxuYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZUNvZGUoc3RyKSB7XG4gIGlmICh3aW5kb3cuYXVkaW9Db250ZXh0KSB7XG4gICAgYXdhaXQgd2luZG93LmF1ZGlvQ29udGV4dC5jbG9zZSgpO1xuICB9XG5cbiAgd2luZG93LmF1ZGlvQ29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcbiAgYXdhaXQgd2luZG93LmF1ZGlvQ29udGV4dC5yZXN1bWUoKTtcblxuICBpZiAod2luZG93Lm1vZHVsZSkge1xuICAgIGF3YWl0IHdpbmRvdy5tb2R1bGUuZXhpdCgpO1xuICB9XG5cbiAgLy8gaGFuZGxlIG1vZHVsZSwgd2UgbmVlZCB0byBjbGVhciB0aGUgc2NoZWR1bGVyIG9yIHRoZXkgY2F0Y2ggdXAgYXQgc29tZSBwb2ludFxuICBzdHIgKz0gYFxuZXhwb3J0IGZ1bmN0aW9uIGV4aXQoKSB7XG4gIHNjaGVkdWxlci5jbGVhcigpO1xufVxuYDtcbiAgY29uc3QgZmlsZSA9IG5ldyBGaWxlKFtzdHJdLCBgbW9kdWxlLSR7cGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIDFlOSl9LmpzYCwgeyB0eXBlOiAndGV4dC9qYXZhc2NyaXB0JyB9KTtcbiAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgLy8gbWFrZSBzdXJlIHRoZSBtb2R1bGUgaXMgbm90IGdhcmJhZ2UgY29sbGVjdGVkXG4gIHdpbmRvdy5tb2R1bGUgPSBhd2FpdCBpbXBvcnQoLyogd2VicGFja0lnbm9yZTogdHJ1ZSAqL3VybCk7XG59XG5cblxuZXhwb3J0IGNvbnN0IGVudGVyID0gKCkgPT4ge31cbmV4cG9ydCBjb25zdCBleGl0ID0gKCkgPT4ge31cblxuZXhwb3J0IGNvbnN0IHRlbXBsYXRlID0gaHRtbGBcbjxoMj5TY2hlZHVsZXIgLSBzaW1wbGUgZGVtbzwvaDI+XG5cbjxkaXYgY2xhc3M9XCJkZW1vXCI+XG4gIDxkaXYgY2xhc3M9XCJpbnRlcmZhY2VcIj5cbiAgICA8c2MtYnV0dG9uXG4gICAgICBAaW5wdXQ9JHthc3luYyAoKSA9PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzYy1lZGl0b3InKS5zYXZlKCl9XG4gICAgPlJ1biB0aGUgZGVtbzwvc2MtYnV0dG9uPlxuICAgIDxzYy10ZXh0Pm11dGU8L3NjLXRleHQ+PHNjLXRvZ2dsZVxuICAgICAgQGNoYW5nZT0ke2FzeW5jIGUgPT4ge1xuICAgICAgICBpZiAoZS5kZXRhaWwudmFsdWUpIHtcbiAgICAgICAgICBhd2FpdCB3aW5kb3cuYXVkaW9Db250ZXh0LnN1c3BlbmQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhd2FpdCB3aW5kb3cuYXVkaW9Db250ZXh0LnJlc3VtZSgpO1xuICAgICAgICB9XG4gICAgICB9fVxuICAgID48L3NjLXRvZ2dsZT5cbiAgPC9kaXY+XG4gIDxzYy1lZGl0b3JcbiAgICBzYXZlLWJ1dHRvblxuICAgIHN0eWxlPVwid2lkdGg6IDkwMHB4OyBoZWlnaHQ6IDcwMHB4O1wiXG4gICAgdmFsdWU9JHtkZWZhdWx0Q29kZX1cbiAgICBAY2hhbmdlPSR7ZSA9PiBleGVjdXRlQ29kZShlLmRldGFpbC52YWx1ZSl9XG4gID48L3NjLWVkaXRvcj5cblxuPC9kaXY+XG5gO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scheduling-simple-demo.js\n");

/***/ }),

/***/ "./src/utils/applyStyle.js":
/*!*********************************!*\
  !*** ./src/utils/applyStyle.js ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ applyStyle)\n/* harmony export */ });\nconst $style = document.createElement('style');\n$style.type = 'text/css';\ndocument.head.appendChild($style);\n\nfunction applyStyle(value) {\n  $style.innerText = value;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvYXBwbHlTdHlsZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AaXJjYW0vc2MtY29tcG9uZW50cy1kb2MvLi9zcmMvdXRpbHMvYXBwbHlTdHlsZS5qcz83MmNmIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0ICRzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4kc3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7XG5kb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKCRzdHlsZSk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFwcGx5U3R5bGUodmFsdWUpIHtcbiAgJHN0eWxlLmlubmVyVGV4dCA9IHZhbHVlO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utils/applyStyle.js\n");

/***/ })

}]);